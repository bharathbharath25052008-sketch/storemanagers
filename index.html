<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Store Manager: Keep Track of Inventory</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- Script -->
  <script defer src="main.js"></script>
</head>
<body>
  <!-- App Wrapper -->
  <div class="app">

    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <h1 class="app-title">Store Manager</h1>
        <p class="app-sub">Keep Track of Inventory</p>
      </div>
      <div class="header-right">
        <button id="themeToggle" class="icon-btn" aria-label="Toggle theme"><i class="fa fa-moon"></i></button>
        <button id="helpBtn" class="icon-btn" aria-label="Help"><i class="fa fa-question"></i></button>
      </div>
    </header>

    <!-- Top Controls -->
    <section class="controls">
      <div class="controls-left">
        <button id="addBtn" class="primary-btn"><i class="fa fa-plus"></i> Add Item</button>
        <button id="bulkDeleteBtn" class="danger-btn"><i class="fa fa-trash"></i> Bulk Delete</button>
        <label class="file-label" for="csvFile"><i class="fa fa-file-import"></i> Import CSV</label>
        <input id="csvFile" type="file" accept=".csv" class="file-input" />
        <button id="exportCsvBtn" class="secondary-btn"><i class="fa fa-file-csv"></i> Export CSV</button>
      </div>

      <div class="controls-right">
        <input id="searchInput" class="search" placeholder="Search items, category, price..." aria-label="Search inventory" />
        <select id="categoryFilter" class="select">
          <option value="">All Categories</option>
        </select>
        <select id="sortSelect" class="select" aria-label="Sort inventory">
          <option value="name-asc">Name ↑</option>
          <option value="name-desc">Name ↓</option>
          <option value="stock-asc">Stock ↑</option>
          <option value="stock-desc">Stock ↓</option>
          <option value="price-asc">Price ↑</option>
          <option value="price-desc">Price ↓</option>
        </select>
      </div>
    </section>

    <!-- Main Content -->
    <main class="main">
      <section class="inventory-card">
        <header class="card-header">
          <h2>Inventory</h2>
          <p class="card-sub">Manage products — edit, delete, and view details</p>
        </header>

        <div class="table-wrap" role="region" aria-label="Inventory table">
          <table class="inventory-table" id="inventoryTable">
            <thead>
              <tr>
                <th><input type="checkbox" id="selectAll" aria-label="Select all" /></th>
                <th>Image</th>
                <th data-sort="name">Item</th>
                <th data-sort="category">Category</th>
                <th data-sort="stock">Stock</th>
                <th data-sort="price">Price (₹)</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="inventoryBody">
              <!-- Rows generated by JS -->
            </tbody>
          </table>
        </div>

        <footer class="card-footer">
          <div class="footer-left">
            <small id="countInfo">0 items</small>
          </div>
          <div class="footer-right">
            <button id="prevPage" class="nav-btn" aria-label="Previous page"><i class="fa fa-chevron-left"></i></button>
            <span id="pageInfo">1 / 1</span>
            <button id="nextPage" class="nav-btn" aria-label="Next page"><i class="fa fa-chevron-right"></i></button>
          </div>
        </footer>
      </section>
    </main>

    <!-- Modal Form (Add/Edit) -->
    <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modal-panel" role="document">
        <button id="closeModal" class="close" aria-label="Close">&times;</button>
        <div class="modal-head">
          <h3 id="modalTitle">Add Item</h3>
          <p id="modalSub">Fill details to add or edit an item</p>
        </div>
        <form id="inventoryForm" class="form">
          <div class="form-grid">
            <label class="field">
              <span>Item Name</span>
              <input id="itemName" type="text" required />
            </label>

            <label class="field">
              <span>Category</span>
              <input id="itemCategory" type="text" list="categoryList" />
              <datalist id="categoryList"></datalist>
            </label>

            <label class="field">
              <span>Stock</span>
              <input id="itemStock" type="number" min="0" value="0" required />
            </label>

            <label class="field">
              <span>Price (₹)</span>
              <input id="itemPrice" type="number" min="0" step="0.01" value="0.00" required />
            </label>

            <label class="field">
              <span>SKU</span>
              <input id="itemSKU" type="text" />
            </label>

            <label class="field">
              <span>Image URL</span>
              <input id="itemImage" type="url" placeholder="https://..." />
            </label>
          </div>

          <div class="modal-actions">
            <button type="submit" id="saveBtn" class="primary-btn">Save Item</button>
            <button type="button" id="cancelBtn" class="secondary-btn">Cancel</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Detail Drawer -->
    <aside id="drawer" class="drawer" aria-hidden="true">
      <div class="drawer-header">
        <h3 id="drawerTitle">Item Details</h3>
        <button id="closeDrawer" class="icon-btn" aria-label="Close details"><i class="fa fa-times"></i></button>
      </div>
      <div class="drawer-body" id="drawerBody">
        <!-- Filled by JS -->
      </div>
    </aside>

    <!-- Help Tooltip / Modal -->
    <div id="helpModal" class="help-modal" aria-hidden="true">
      <div class="help-panel">
        <h3>How to use Store Manager</h3>
        <ul>
          <li>Use <strong>Add Item</strong> to add new products.</li>
          <li>Click the edit icon to modify an item. Click trash to delete.</li>
          <li>Import a CSV with columns: name,category,stock,price,sku,image</li>
          <li>Export the current list to CSV for backup.</li>
        </ul>
        <button id="closeHelp" class="primary-btn">Close</button>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>© <span id="year"></span> Store Manager — Built with ❤️ for inventory.</p>
    </footer>
  </div>

  <!-- Template row (hidden) for cloning if needed -->
  <template id="rowTemplate">
    <tr>
      <td><input type="checkbox" class="row-check" /></td>
      <td class="cell-image"><img alt="product" class="thumb" /></td>
      <td class="cell-name"></td>
      <td class="cell-category"></td>
      <td class="cell-stock"></td>
      <td class="cell-price"></td>
      <td class="cell-actions"></td>
    </tr>
  </template>

  <!-- End body -->
</body>
</html>
